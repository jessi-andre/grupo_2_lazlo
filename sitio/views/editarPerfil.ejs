<!DOCTYPE html>
<html lang="en">
<%-include('./partials/head')%>
  <style>
    .errores {
      font-weight: 500;
      color: tomato;
      display: block;
      margin: -8px 0 20px 65px;
    }
    h2{
      text-align: center;
      margin-bottom: 10px;
    }
  </style>

  <body background="/images/fondo.jpg">

    <%-include('./partials/header')%>

      <main class="registro">

        <form class="formulario" id="editarPerfil" action="/users/editarPerfil/<%= locals.loginUsuario.id %>?_method=PUT" method="post" enctype="multipart/form-data">
          <h2>Editar perfil</h2>

          <div class="input-contenedor">
            <i class="fas fa-user icon"></i>
            <input type="text" name="firstName" id="firstName" placeholder="Nombre*" value="<%= usuario.firstName %>">
          </div>
          <span class="errores" id="errorFirstName">
            <%= locals.errores && errores.firstName ? errores.firstName.msg : null %>
          </span>

          <div class="input-contenedor">
            <i class="fas fa-user icon"></i>
            <input type="text" name="lastName" placeholder="Apellido" id="lastName" value="<%= usuario.lastName %>">
          </div>
          <span class="errores" id="errorLastName">
            <%= locals.errores && errores.lastName ? errores.lastName.msg : null %>
          </span>

          <div class="input-contenedor">
            <i class="fas fa-envelope icon"></i>
            <input type="text" name="email" id="email" placeholder="Email" value="<%= usuario.email %>" disabled>
          </div>

          <div class="input-contenedor">
            <i class="fas fa-image icon"></i>
            <input type="file" placeholder="Agrega tu foto de perfil" id="profile" name="profile" />
          </div>
          <span class="errores">
            <%= locals.errores && errores.image ? errores.image.msg : null %>
          </span>

          <div class="input-contenedor">
            <i class="fas fa-key icon"></i>
            <input type="password" name="oldPassword" id="oldPassword" placeholder="Contraseña actual*">
          </div>
          <span class="errores">
            <%= locals.errores && errores.password ? errores.password : null %>
          </span>
          <br>

          <h4>Cambiar contraseña</h4>

          <div class="input-contenedor">
            <i class="fas fa-key icon"></i>
            <input type="password" name="newPassword" id="newPassword" placeholder="Nueva contraseña">
          </div>
          <span class="errores" id="errorNewPassword">
            <%= locals.errores && errores.newPassword ? errores.newPassword.msg : null %>
          </span>

          <div class="input-contenedor">
            <i class="fas fa-key icon"></i>
            <input type="password" name="newPassword2" id="newPassword2" placeholder="Volvé a escribir la nueva contraseña">
          </div>
          <span class="errores" id="errorNewPassword2">
            <%= locals.errores && errores.newPassword2 ? errores.newPassword2.msg : null %>
          </span>


          <span class="errores" id="campo-vacio"></span>
          <button class="button">Editar</button>

        </form>

      </main>
      <%-include('./partials/footer')%>
      <script src="/javascripts/validaciones/editarPerfilValidation.js"></script>
  </body>

</html>